{"componentChunkName":"component---src-templates-tags-jsx","path":"/tag/tech/","result":{"data":{"allMarkdownRemark":{"totalCount":2,"edges":[{"node":{"id":"ba1a66f6-ef05-552a-8ab7-2d105e50aa5f","html":"<p>Windowsアプリを開発しているのですが、<br>\nアプリの負荷検証でどう負荷を計測したらいいのかなってことで、<br>\nCPU負荷率や使用メモリを取得できるようなコンソールアプリを作ってみました。  </p>\n<p>パフォーマンスモニタでも見れるのですが、<br>\n決めた内容でCSVに取り廻せた方が使いやすそうだったのでツール化してみました。</p>\n<p>ソースコードは<a href=\"https://github.com/garegare/PerfomMonConsoleTool\">こちら</a><br>\n※あくまで自己学習用のコードです</p>\n<ul>\n<li>CPU負荷はプロセッサ（全体）とプロセッサ（各CPU毎）、 指定したプロセスの合計を取得できるようにしました。</li>\n<li>メモリ使用量は全体と指定したプロセスのWorkingSetを取得できるようにしました。</li>\n</ul>","frontmatter":{"title":"C#でCPU負荷計測など","date":"2020年05月24日"},"fields":{"slug":"/202005/CsharpPermonMemo/"}}},{"node":{"id":"ef30a946-a810-577a-8dbb-724dba51d1b7","html":"<p>趣味用途でならVPSをレンタルするよりもGCPのVMの方が費用が掛からないようだったので\n実際に立ててみた時の備忘録です。</p>\n<hr>\n<h2>VMインスタンス作成する</h2>\n<h3>アカウントを以下より登録する</h3>\n<p><a href=\"https://cloud.google.com/\">https://cloud.google.com/</a></p>\n<ul>\n<li>無料トライアルを使用</li>\n<li>Google Account/ Credit Cardが必要</li>\n</ul>\n<h3>プロジェクトを作成</h3>\n<p>デフォルトで作成されていたので、それを利用する。</p>\n<h3>VMインスタンスを作成</h3>\n<ol>\n<li>ログイン後の画面左のメニューより「Compute Engine」から「VM インスタンスを作成」を選択</li>\n<li>表示される画面から「作成」を選択（少し時間がかかる）</li>\n<li>\n<p>以下の項目を編集する</p>\n<ul>\n<li>名前</li>\n<li>リージョン(オレゴン、アイオワあたりを選択)</li>\n<li>マシン(f1-microを選択)</li>\n<li>ディスク(標準永続ディスクで30GBに変更)</li>\n<li>OS(Debianを選択)</li>\n</ul>\n</li>\n</ol>\n<h2>Google Cloud SDK でインスタンスにSSH接続する</h2>\n<h3>作業環境</h3>\n<ul>\n<li>OS: ArchLinux(64bit)</li>\n</ul>\n<h3>Google Cloud SDK をインストールする</h3>\n<p>参考リンク\n<a href=\"https://cloud.google.com/sdk/docs?hl=ja\">https://cloud.google.com/sdk/docs?hl=ja</a></p>\n<p>今回の手順は以下の流れで実施。</p>\n<ol>\n<li>\n<p>パッケージをダウンロード/展開</p>\n<pre><code>wget https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-sdk-280.0.0-linux-x86_64.tar.gz\ntar zxf google-cloud-sdk-280.0.0-linux-x86_64.tar.gz\n</code></pre>\n</li>\n<li>\n<p>インストール</p>\n<pre><code>./google-cloud-sdk/install.sh\n</code></pre>\n</li>\n<li>\n<p>初期化</p>\n<pre><code>./google-cloud-sdk/bin/gcloud init\n</code></pre>\n</li>\n</ol>\n<h3>gcloud コマンドでSSH接続</h3>\n<p>gcloudコマンドで接続するためのコマンドはVMインスタンスの管理画面から「接続」-「gcloudコマンドを表示」から確認できる</p>\n<h2>インスタンス内の接続設定をする</h2>\n<p>gcloud ssh コマンドで接続している状態で実施する。</p>\n<h3>sshのポートを変更する</h3>\n<ol>\n<li>\n<p>sshdのポートを変更する</p>\n<pre><code>sudo cp -p /etc/ssh/sshd_config /etc/ssh/sshd_config.org\nsudo vi /etc/ssh/sshd_config #portを変更\nsudo systemctl restart sshd\n</code></pre>\n</li>\n<li>\n<p>Firewall(GCP側の設定)を変更後のSSHポートに合わせる\n以下のファイアウォール設定をWebで変更する</p>\n<ul>\n<li>default-allow-ssh</li>\n</ul>\n</li>\n<li>\n<p>gcloud ssh コマンドの接続ポート指定を行う\nこれまでに実行しているgcloud sshコマンドに以下のオプションを追加する</p>\n<pre><code>--ssh-flag=\"-p ポート\"\n</code></pre>\n</li>\n</ol>\n<pre><code></code></pre>","frontmatter":{"title":"GCPスタートアップ","date":"2020年05月09日"},"fields":{"slug":"/202005/GCPStartupMemo/"}}}]}},"pageContext":{"tag":"tech"}}}